{% extends "../partials/oralPageLayout.njk" %}

{% set currentPage = 'Offence details' %}
{% set pageTitle = preSentenceType + " - " + currentPage %}

{% block reportForm %}

  <h1 class="govuk-heading-l">{{ currentPage }}</h1>

  {% if validationError %}
    {% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

    {{ govukErrorSummary({
      titleText: "There is a problem",
      errorList: [
        {
          text: "Enter the main offence and date",
          href: "#mainOffence"
        }
      ]
    }) }}
  {% endif %}

  <form method="post" novalidate>

    {% from "components/rich-text-editor/macro.njk" import picRichTextEditor %}

    {{ picRichTextEditor({
      name: "mainOffence",
      id: "mainOffence",
      label: {
        text: "Main offence and date"
      },
      value: data.mainOffence,
      errorMessage: {
        text: "Enter the main offence and date"
      } if validationError
    }) }}

    {{ picRichTextEditor({
      name: "otherOffences",
      id: "otherOffences",
      label: {
        text: "Other offence(s) and dates (if applicable)"
      },
      value: data.otherOffences
    }) }}

    <button class="govuk-button govuk-!-margin-top-6">Continue</button>
  </form>

{% endblock %}
